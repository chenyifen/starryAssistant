🚀 Dicio Android 构建、安装和启动脚本
========================================
☕ 1. 设置Java 17环境...
✅ Java版本: 17.0.15

📱 2. 检查Android设备连接...
✅ 检测到 1 个设备

🔨 3. 构建noModels变体...
> Task :sentences-compiler-plugin:checkKotlinGradlePluginConfigurationErrors SKIPPED
> Task :sentences-compiler-plugin:pluginDescriptors UP-TO-DATE
> Task :dicio-sentences-compiler:sentences_compiler:compileJava UP-TO-DATE
> Task :sentences-compiler-plugin:processResources UP-TO-DATE
> Task :dicio-sentences-compiler:sentences_compiler:processResources NO-SOURCE
> Task :dicio-sentences-compiler:sentences_compiler:classes UP-TO-DATE
> Task :dicio-sentences-compiler:sentences_compiler:jar UP-TO-DATE
> Task :sentences-compiler-plugin:compileKotlin UP-TO-DATE
> Task :sentences-compiler-plugin:compileJava NO-SOURCE
> Task :sentences-compiler-plugin:classes UP-TO-DATE
> Task :sentences-compiler-plugin:jar UP-TO-DATE
> Task :dicio-numbers:numbers:checkKotlinGradlePluginConfigurationErrors
> Task :dicio-numbers:numbers:compileKotlin UP-TO-DATE
> Task :dicio-numbers:numbers:compileJava NO-SOURCE
> Task :dicio-numbers:numbers:processResources UP-TO-DATE
> Task :dicio-numbers:numbers:classes UP-TO-DATE
> Task :dicio-numbers:numbers:jar UP-TO-DATE
> Task :app:preBuild UP-TO-DATE
> Task :app:preNoModelsDebugBuild UP-TO-DATE
> Task :app:mergeNoModelsDebugNativeDebugMetadata NO-SOURCE
> Task :app:checkKotlinGradlePluginConfigurationErrors SKIPPED
> Task :app:dataBindingMergeDependencyArtifactsNoModelsDebug UP-TO-DATE
> Task :app:generateNoModelsDebugResValues UP-TO-DATE
> Task :app:generateNoModelsDebugResources UP-TO-DATE
> Task :skill:preBuild UP-TO-DATE
> Task :skill:preDebugBuild UP-TO-DATE
> Task :skill:generateDebugResValues UP-TO-DATE
> Task :skill:generateDebugResources UP-TO-DATE
> Task :skill:packageDebugResources UP-TO-DATE
> Task :app:mergeNoModelsDebugResources UP-TO-DATE
> Task :app:packageNoModelsDebugResources UP-TO-DATE
> Task :app:parseNoModelsDebugLocalResources UP-TO-DATE
> Task :skill:parseDebugLocalResources UP-TO-DATE
> Task :skill:generateDebugRFile UP-TO-DATE
> Task :app:dataBindingGenBaseClassesNoModelsDebug UP-TO-DATE
> Task :app:generateNoModelsDebugBuildConfig UP-TO-DATE
> Task :app:extractDebugProto UP-TO-DATE
> Task :skill:checkKotlinGradlePluginConfigurationErrors SKIPPED
> Task :skill:compileDebugKotlin UP-TO-DATE
> Task :skill:javaPreCompileDebug UP-TO-DATE
> Task :skill:compileDebugJavaWithJavac NO-SOURCE
> Task :skill:bundleLibRuntimeToJarDebug UP-TO-DATE
> Task :skill:processDebugJavaRes UP-TO-DATE
> Task :skill:createFullJarDebug UP-TO-DATE
> Task :app:extractIncludeNoModelsDebugProto UP-TO-DATE
> Task :app:extractNoModelsDebugProto UP-TO-DATE
> Task :app:extractNoModelsProto UP-TO-DATE
> Task :app:extractProto UP-TO-DATE
> Task :app:generateNoModelsDebugProto UP-TO-DATE
> Task :skill:writeDebugAarMetadata UP-TO-DATE
> Task :app:checkNoModelsDebugAarMetadata UP-TO-DATE
> Task :app:mapNoModelsDebugSourceSetPaths UP-TO-DATE
> Task :app:createNoModelsDebugCompatibleScreenManifests UP-TO-DATE
> Task :app:extractDeepLinksNoModelsDebug UP-TO-DATE
> Task :skill:extractDeepLinksDebug UP-TO-DATE
> Task :skill:processDebugManifest UP-TO-DATE
> Task :app:processNoModelsDebugMainManifest UP-TO-DATE
> Task :app:processNoModelsDebugManifest UP-TO-DATE
> Task :app:processNoModelsDebugManifestForPackage UP-TO-DATE
> Task :skill:compileDebugLibraryResources UP-TO-DATE
> Task :app:processNoModelsDebugResources UP-TO-DATE
> Task :app:sentencesCompiler UP-TO-DATE
> Task :skill:bundleLibCompileToJarDebug UP-TO-DATE
> Task :app:javaPreCompileNoModelsDebug UP-TO-DATE
> Task :app:mergeNoModelsDebugShaders UP-TO-DATE
> Task :app:compileNoModelsDebugShaders NO-SOURCE
> Task :app:generateNoModelsDebugAssets UP-TO-DATE
> Task :skill:mergeDebugShaders UP-TO-DATE
> Task :skill:compileDebugShaders NO-SOURCE
> Task :skill:generateDebugAssets UP-TO-DATE
> Task :skill:mergeDebugAssets UP-TO-DATE
> Task :app:mergeNoModelsDebugAssets UP-TO-DATE
> Task :app:compressNoModelsDebugAssets UP-TO-DATE
> Task :app:l8DexDesugarLibNoModelsDebug UP-TO-DATE
> Task :app:checkNoModelsDebugDuplicateClasses UP-TO-DATE
> Task :app:desugarNoModelsDebugFileDependencies UP-TO-DATE
> Task :app:mergeExtDexNoModelsDebug UP-TO-DATE
> Task :app:mergeLibDexNoModelsDebug UP-TO-DATE
> Task :app:configureCMakeDebug[arm64-v8a]
> Task :app:buildCMakeDebug[arm64-v8a]
> Task :app:configureCMakeDebug[armeabi-v7a]
> Task :app:buildCMakeDebug[armeabi-v7a]
> Task :app:configureCMakeDebug[x86]
> Task :app:buildCMakeDebug[x86]
> Task :app:configureCMakeDebug[x86_64]
> Task :app:buildCMakeDebug[x86_64]
> Task :app:mergeNoModelsDebugJniLibFolders UP-TO-DATE
> Task :skill:mergeDebugJniLibFolders UP-TO-DATE
> Task :skill:mergeDebugNativeLibs NO-SOURCE
> Task :skill:copyDebugJniLibsProjectOnly UP-TO-DATE
> Task :app:mergeNoModelsDebugNativeLibs UP-TO-DATE
> Task :app:stripNoModelsDebugDebugSymbols UP-TO-DATE
> Task :app:validateSigningNoModelsDebug UP-TO-DATE
> Task :app:writeNoModelsDebugAppMetadata UP-TO-DATE
> Task :app:writeNoModelsDebugSigningConfigVersions UP-TO-DATE
> Task :app:kspNoModelsDebugKotlin

> Task :app:compileNoModelsDebugKotlin
e: file:///Users/user/AndroidStudioProjects/dicio-android/app/src/main/kotlin/org/stypox/dicio/io/input/sensevoice/SenseVoiceInputDevice.kt:157:31 Argument type mismatch: actual type is 'com.k2fsa.sherpa.onnx.VadModelConfig', but 'android.content.res.AssetManager?' was expected.
e: file:///Users/user/AndroidStudioProjects/dicio-android/app/src/main/kotlin/org/stypox/dicio/io/input/sensevoice/SenseVoiceInputDevice.kt:157:31 No value passed for parameter 'config'.
e: file:///Users/user/AndroidStudioProjects/dicio-android/app/src/main/kotlin/org/stypox/dicio/io/input/sensevoice/SenseVoiceInputDevice.kt:665:26 Unresolved reference 'audioBuffer'.
e: file:///Users/user/AndroidStudioProjects/dicio-android/app/src/main/kotlin/org/stypox/dicio/io/wake/onnx/HiNudgeOnnxV8WakeDevice.kt:118:63 Unresolved reference 'IOException'.
e: file:///Users/user/AndroidStudioProjects/dicio-android/app/src/main/kotlin/org/stypox/dicio/io/wake/onnx/HiNudgeOnnxV8WakeDevice.kt:129:59 Unresolved reference 'IOException'.

> Task :app:compileNoModelsDebugKotlin FAILED

FAILURE: Build failed with an exception.

* What went wrong:
Execution failed for task ':app:compileNoModelsDebugKotlin'.
> A failure occurred while executing org.jetbrains.kotlin.compilerRunner.GradleCompilerRunnerWithWorkers$GradleKotlinCompilerWorkAction
   > Compilation error. See log for more details

* Try:
> Run with --stacktrace option to get the stack trace.
> Run with --info or --debug option to get more log output.
> Run with --scan to get full insights.
> Get more help at https://help.gradle.org.

BUILD FAILED in 7s
77 actionable tasks: 11 executed, 66 up-to-date
❌ 构建失败
