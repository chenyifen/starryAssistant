# HiNudge V8 ONNXæ¨¡åž‹æµ‹è¯•æŠ¥å‘Š

**æµ‹è¯•æ—¥æœŸ**: 2025-10-14  
**æ¨¡åž‹ç‰ˆæœ¬**: V8 (korean_wake_word_v8.onnx)  
**æµ‹è¯•çŽ¯å¢ƒ**: Androidå•å…ƒæµ‹è¯•  
**çŠ¶æ€**: ðŸ”„ è¿›è¡Œä¸­

---

## ðŸ“¦ æ¨¡åž‹æ–‡ä»¶éªŒè¯

### Assetsç›®å½•æ£€æŸ¥

```
app/src/main/assets/korean_hinudge_onnx/
â”œâ”€â”€ âœ… melspectrogram.onnx (1.0 MB)
â”œâ”€â”€ âœ… embedding_model.onnx (1.3 MB)  
â”œâ”€â”€ âœ… korean_wake_word_v8.onnx (205 KB)
â”œâ”€â”€ embedding.tflite (1.3 MB) - å¤‡ç”¨
â”œâ”€â”€ melspectrogram.tflite (1.0 MB) - å¤‡ç”¨
â””â”€â”€ README.md
```

### æ–‡ä»¶ååŒ¹é…æ£€æŸ¥

| ä»£ç ä¸­çš„æ–‡ä»¶å | Assetsä¸­çš„æ–‡ä»¶ | çŠ¶æ€ |
|---------------|---------------|------|
| `melspectrogram.onnx` | âœ… å­˜åœ¨ (1.0 MB) | âœ… åŒ¹é… |
| `embedding_model.onnx` | âœ… å­˜åœ¨ (1.3 MB) | âœ… åŒ¹é… |
| `korean_wake_word_v8.onnx` | âœ… å­˜åœ¨ (205 KB) | âœ… åŒ¹é… |

**ç»“è®º**: âœ… æ‰€æœ‰å¿…éœ€çš„æ¨¡åž‹æ–‡ä»¶éƒ½å­˜åœ¨ä¸”æ–‡ä»¶åæ­£ç¡®

---

## ðŸ§ª æµ‹è¯•ç”¨ä¾‹æ‰§è¡Œ

### æµ‹è¯•1: æ¨¡åž‹æ–‡ä»¶å¯ç”¨æ€§
**ç›®æ ‡**: éªŒè¯æ‰€æœ‰æ¨¡åž‹æ–‡ä»¶éƒ½èƒ½è¢«æ­£ç¡®è®¿é—®

**é¢„æœŸç»“æžœ**:
- âœ… melspectrogram.onnx å¯è®¿é—®
- âœ… embedding_model.onnx å¯è®¿é—®
- âœ… korean_wake_word_v8.onnx å¯è®¿é—®

**å®žé™…ç»“æžœ**: â³ ç­‰å¾…æµ‹è¯•...

---

### æµ‹è¯•2: WakeDeviceåˆå§‹åŒ–
**ç›®æ ‡**: éªŒè¯HiNudgeOnnxV8WakeDeviceèƒ½æˆåŠŸåˆå§‹åŒ–

**é¢„æœŸç»“æžœ**:
- âœ… ä»ŽAssetså¤åˆ¶æ¨¡åž‹åˆ°å†…éƒ¨å­˜å‚¨
- âœ… æˆåŠŸåŠ è½½wake wordæ¨¡åž‹
- âœ… åˆå§‹åŒ–feature buffer
- âœ… çŠ¶æ€å˜ä¸º `WakeState.Loaded`

**å®žé™…ç»“æžœ**: â³ ç­‰å¾…æµ‹è¯•...

---

### æµ‹è¯•3: åˆæˆéŸ³é¢‘å¤„ç†
**ç›®æ ‡**: ä½¿ç”¨åˆæˆéŸ³é¢‘æµ‹è¯•processFrame()

**é…ç½®**:
- Frame size: 1280 samples (80ms @ 16kHz)
- æµ‹è¯•å¸§æ•°: 10å¸§
- éŸ³é¢‘ç±»åž‹: æ··åˆæ­£å¼¦æ³¢

**é¢„æœŸç»“æžœ**:
- âœ… processFrame()æ­£å¸¸è¿”å›ž
- âš ï¸ å¯èƒ½æœ‰è¯¯æŠ¥ï¼ˆæ­£å¸¸ï¼Œå› ä¸ºæ˜¯éšæœºéŸ³é¢‘ï¼‰
- âœ… æ— å´©æºƒæˆ–å¼‚å¸¸

**å®žé™…ç»“æžœ**: â³ ç­‰å¾…æµ‹è¯•...

---

### æµ‹è¯•4: çœŸå®žéŸ³é¢‘æ–‡ä»¶
**ç›®æ ‡**: ä½¿ç”¨çœŸå®žéŸ©è¯­å”¤é†’è¯éŸ³é¢‘æµ‹è¯•

**æµ‹è¯•æ•°æ®**:
- éŸ³é¢‘ä½ç½®: `app/src/androidTest/assets/test_audio/`
- æ ¼å¼è¦æ±‚: 16kHz, 16-bit PCM, Mono WAV

**é¢„æœŸç»“æžœ**:
- âœ… æ­£æ ·æœ¬ï¼ˆ"í•˜ì´ë„›ì§€"ï¼‰: æ£€æµ‹åˆ†æ•° > 0.3
- âœ… è´Ÿæ ·æœ¬ï¼ˆå…¶ä»–éŸ³é¢‘ï¼‰: æ£€æµ‹åˆ†æ•° < 0.3

**å®žé™…ç»“æžœ**: â³ ç­‰å¾…æµ‹è¯•...

**æ³¨æ„**: å¦‚æžœæ²¡æœ‰æµ‹è¯•éŸ³é¢‘ï¼Œæ­¤æµ‹è¯•å°†è·³è¿‡

---

### æµ‹è¯•5: è¿žç»­å¸§å¤„ç†æ€§èƒ½
**ç›®æ ‡**: æµ‹è¯•å®žæ—¶å¤„ç†èƒ½åŠ›

**é…ç½®**:
- æµ‹è¯•å¸§æ•°: 100å¸§
- æ¯å¸§: 1280 samples (80ms)

**æ€§èƒ½æŒ‡æ ‡**:
- å¹³å‡å¤„ç†æ—¶é—´: ç›®æ ‡ < 80ms/å¸§
- æ€»è€—æ—¶: é¢„æœŸ < 8ç§’
- å®žæ—¶å¤„ç†èƒ½åŠ›: å¿…é¡»æ»¡è¶³å®žæ—¶æ€§

**é¢„æœŸç»“æžœ**:
- âœ… å¹³å‡å¤„ç†æ—¶é—´ < 80ms
- âœ… å¯ä»¥å®žæ—¶å¤„ç†éŸ³é¢‘æµ
- âœ… æ— å†…å­˜æ³„æ¼

**å®žé™…ç»“æžœ**: â³ ç­‰å¾…æµ‹è¯•...

---

### æµ‹è¯•6: æ¨¡åž‹è¾“å…¥è¾“å‡ºéªŒè¯
**ç›®æ ‡**: éªŒè¯æ•°æ®æ ¼å¼å’Œç»´åº¦

**éªŒè¯é¡¹**:
- Frame size: åº”è¯¥æ˜¯ 1280 samples
- æ¨¡åž‹è¾“å…¥shapeåŒ¹é…
- æ¨¡åž‹è¾“å‡ºshapeåŒ¹é…

**é¢„æœŸç»“æžœ**:
- âœ… Frame size = 1280
- âœ… æ‰€æœ‰ç»´åº¦æ­£ç¡®

**å®žé™…ç»“æžœ**: â³ ç­‰å¾…æµ‹è¯•...

---

## ðŸ“Š å·²çŸ¥é—®é¢˜

### é—®é¢˜1: ç¼ºå°‘Melå’ŒEmbeddingæ¨¡åž‹
**çŠ¶æ€**: âœ… å·²è§£å†³  
**è§£å†³æ–¹æ¡ˆ**: æ¨¡åž‹å·²å­˜åœ¨äºŽAssetsç›®å½•  
**æ—¥æœŸ**: 2025-10-14

### é—®é¢˜2: æ–‡ä»¶åä¸åŒ¹é…
**çŠ¶æ€**: âœ… å·²è§£å†³  
**åŽŸå› **: ä»£ç æœŸæœ› `korean_wake_word_v8.onnx`ï¼ŒAssetsä¸­ä¹Ÿæœ‰æ­¤æ–‡ä»¶  
**æ—¥æœŸ**: 2025-10-14

---

## ðŸŽ¯ V8æ¨¡åž‹é¢„æœŸæ€§èƒ½

æ ¹æ®è®­ç»ƒæŠ¥å‘Š (V8_DEPLOYMENT_REPORT_20251013.md):

| æŒ‡æ ‡ | ç›®æ ‡å€¼ | è¯´æ˜Ž |
|------|--------|------|
| **å¬å›žçŽ‡** | 100% | ä¸ä¼šæ¼æ£€å”¤é†’è¯ |
| **ç²¾ç¡®çŽ‡** | 72% | 28%è¯¯æŠ¥çŽ‡å¯æŽ¥å— |
| **F1åˆ†æ•°** | 84% | ç»¼åˆè¡¨çŽ°ä¼˜ç§€ |
| **æ£€æµ‹é˜ˆå€¼** | 0.3 | ä»£ç ä¸­å·²é…ç½® |

---

## ðŸ” æµ‹è¯•çŽ¯å¢ƒä¿¡æ¯

### ä»£ç é…ç½®
```kotlin
// HiNudgeOnnxV8WakeDevice.kt
ASSET_MODEL_DIR = "korean_hinudge_onnx"
MEL_FILE_NAME = "melspectrogram.onnx"
EMB_FILE_NAME = "embedding_model.onnx"
WAKE_FILE_NAME = "korean_wake_word_v8.onnx"
N_PREPARED_SAMPLES = 1280  // 80ms @ 16kHz
DETECTION_THRESHOLD = 0.3f
```

### æž„å»ºä¿¡æ¯
- Gradle: æœ€æ–°ç‰ˆæœ¬
- Android SDK: API 29+
- Kotlin: æœ€æ–°ç‰ˆæœ¬
- ONNX Runtime: ai.onnxruntime:onnxruntime-android

---

## ðŸ“ æµ‹è¯•æ—¥å¿—

### ç¼–è¯‘è¾“å‡º
```
æ­£åœ¨åŽå°è¿è¡Œ: ./gradlew test --tests "HiNudgeOnnxV8WakeDeviceTest"
è¾“å‡ºä¿å­˜åˆ°: unit_test_output.log
```

### æµ‹è¯•è¾“å‡º
â³ ç­‰å¾…æµ‹è¯•å®Œæˆ...

---

## âœ… æµ‹è¯•ç»“è®º

### å½“å‰çŠ¶æ€
ðŸ”„ æµ‹è¯•è¿›è¡Œä¸­

### åŽç»­æ­¥éª¤
1. â³ ç­‰å¾…æµ‹è¯•å®Œæˆ
2. â³ åˆ†æžæµ‹è¯•ç»“æžœ
3. â³ ä¿®å¤å‘çŽ°çš„é—®é¢˜
4. â³ é‡æ–°æµ‹è¯•éªŒè¯
5. â³ ç”Ÿæˆæœ€ç»ˆæŠ¥å‘Š

---

## ðŸ“‹ æ£€æŸ¥æ¸…å•

- [x] æ¨¡åž‹æ–‡ä»¶å­˜åœ¨
- [x] æ–‡ä»¶ååŒ¹é…
- [ ] æµ‹è¯•1é€šè¿‡
- [ ] æµ‹è¯•2é€šè¿‡
- [ ] æµ‹è¯•3é€šè¿‡
- [ ] æµ‹è¯•4é€šè¿‡ï¼ˆæˆ–è·³è¿‡ï¼‰
- [ ] æµ‹è¯•5é€šè¿‡
- [ ] æµ‹è¯•6é€šè¿‡
- [ ] æ€§èƒ½è¾¾æ ‡
- [ ] æ— å†…å­˜æ³„æ¼
- [ ] æ— ANRæˆ–å´©æºƒ

---

**æŠ¥å‘Šç”Ÿæˆæ—¶é—´**: 2025-10-14 14:30  
**æœ€åŽæ›´æ–°**: æµ‹è¯•å¯åŠ¨  
**ä¸‹ä¸€æ¬¡æ›´æ–°**: æµ‹è¯•å®ŒæˆåŽ


